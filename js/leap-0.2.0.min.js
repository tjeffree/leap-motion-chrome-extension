(function(d,p,n){function m(c,e){if(!p[c]){if(!d[c]){var w="function"==typeof require&&require;if(!e&&w)return w(c,!0);if(h)return h(c,!0);throw Error("Cannot find module '"+c+"'");}w=p[c]={exports:{}};d[c][0].call(w.exports,function(e){var s=d[c][1][e];return m(s?s:e)},w,w.exports)}return p[c].exports}for(var h="function"==typeof require&&require,c=0;c<n.length;c++)m(n[c]);return m})({1:[function(d,p,n){var m=d("./protocol").chooseProtocol;n=d("events").EventEmitter;var h=d("underscore");d=p.exports=
function(c){this.opts=h.defaults(c||{},{host:"127.0.0.1",enableGestures:!1,port:6437,enableHeartbeat:!0,heartbeatInterval:100,requestProtocolVersion:3});this.host=this.opts.host;this.port=this.opts.port;this.on("ready",function(){this.enableGestures(this.opts.enableGestures);this.opts.enableHeartbeat&&this.startHeartbeat()});this.on("disconnect",function(){this.opts.enableHeartbeat&&this.stopHeartbeat()});this.heartbeatTimer=null};d.prototype.getUrl=function(){return"ws://"+this.host+":"+this.port+
"/v"+this.opts.requestProtocolVersion+".json"};d.prototype.sendHeartbeat=function(){this.protocol&&(this.setHeartbeatState(!0),this.protocol.sendHeartbeat(this))};d.prototype.handleOpen=function(){this.emit("connect")};d.prototype.enableGestures=function(c){this.gesturesEnabled=c?!0:!1;this.send(this.protocol.encode({enableGestures:this.gesturesEnabled}))};d.prototype.handleClose=function(){this.disconnect();this.startReconnection()};d.prototype.startReconnection=function(){var c=this;setTimeout(function(){c.connect()},
1E3)};d.prototype.disconnect=function(){this.socket&&(this.socket.close(),delete this.socket,delete this.protocol,this.emit("disconnect"))};d.prototype.handleData=function(c){c=JSON.parse(c);void 0===this.protocol?(c=this.protocol=m(c),this.emit("ready")):c=this.protocol(c);this.emit(c.type,c)};d.prototype.connect=function(){if(!this.socket)return this.socket=this.setupSocket(),!0};d.prototype.send=function(c){this.socket.send(c)};d.prototype.stopHeartbeat=function(){this.heartbeatTimer&&(clearInterval(this.heartbeatTimer),
delete this.heartbeatTimer,this.setHeartbeatState(!1))};d.prototype.setHeartbeatState=function(c){this.heartbeatState!==c&&(this.heartbeatState=c,this.emit(this.heartbeatState?"focus":"blur"))};h.extend(d.prototype,n.prototype)},{"./protocol":12,events:17,underscore:20}],2:[function(d,p,n){d=p.exports=function(d){this.pos=0;this._buf=[];this.size=d};d.prototype.get=function(d){void 0==d&&(d=0);return d>=this.size||d>=this._buf.length?void 0:this._buf[(this.pos-d-1)%this.size]};d.prototype.push=function(d){this._buf[this.pos%
this.size]=d;return this.pos++}},{}],3:[function(d,p,n){d=p.exports=d("./base_connection");d.prototype.setupSocket=function(){var d=this,h=new WebSocket(this.getUrl());h.onopen=function(){d.handleOpen()};h.onmessage=function(c){d.handleData(c.data)};h.onclose=function(){d.handleClose()};return h};d.prototype.startHeartbeat=function(){if(this.protocol.sendHeartbeat&&!this.heartbeatTimer){var d=this,h=null,h="undefined"!==typeof document.hidden?"hidden":"undefined"!==typeof document.mozHidden?"mozHidden":
"undefined"!==typeof document.msHidden?"msHidden":"undefined"!==typeof document.webkitHidden?"webkitHidden":void 0,c=!0,l=window.addEventListener("focus",function(e){c=!0}),e=window.addEventListener("blur",function(e){c=!1});this.on("disconnect",function(){d.heartbeatTimer&&(clearTimeout(d.heartbeatTimer),delete d.heartbeatTimer);window.removeEventListener(l);window.removeEventListener(e)});this.heartbeatTimer=setInterval(function(){void 0!==h&&!1!==document[h]||!c?d.setHeartbeatState(!1):d.sendHeartbeat()},
this.opts.heartbeatInterval)}}},{"./base_connection":1}],4:[function(d,p,n){(function(m){var h=d("./frame"),c=d("./circular_buffer"),l=d("./pipeline"),e=d("events").EventEmitter,w=d("./gesture").gestureListener,r=d("underscore"),s=p.exports=function(e){e=r.defaults(e||{},{inNode:"undefined"!==typeof m&&"node"===m.title});this.inNode=e.inNode;e=r.defaults(e||{},{frameEventName:this.useAnimationLoop()?"animationFrame":"deviceFrame",supressAnimationLoop:!1});this.supressAnimationLoop=e.supressAnimationLoop;
this.frameEventName=e.frameEventName;this.history=new c(200);this.lastConnectionFrame=this.lastValidFrame=this.lastFrame=h.Invalid;this.accumulatedGestures=[];this.connectionType=void 0===e.connectionType?this.inBrowser()?d("./connection"):d("./node_connection"):e.connectionType;this.connection=new this.connectionType(e);this.setupConnectionEvents()};s.prototype.gesture=function(c,e){var a=w(this,c);void 0!==e&&a.stop(e);return a};s.prototype.inBrowser=function(){return!this.inNode};s.prototype.useAnimationLoop=
function(){return this.inBrowser()&&"undefined"===typeof chrome};s.prototype.connect=function(){var c=this;if(this.connection.connect()&&this.inBrowser()&&!c.supressAnimationLoop){var e=function(){c.emit("animationFrame",c.lastConnectionFrame);window.requestAnimFrame(e)};window.requestAnimFrame(e)}};s.prototype.disconnect=function(){this.connection.disconnect()};s.prototype.frame=function(c){return this.history.get(c)||h.Invalid};s.prototype.loop=function(c){switch(c.length){case 1:this.on(this.frameEventName,
c);break;case 2:var e=this,a=function(b){c(b,function(){if(e.lastFrame!=b)a(e.lastFrame);else e.once(e.frameEventName,a)})};this.once(this.frameEventName,a)}this.connect()};s.prototype.addStep=function(c){this.pipeline||(this.pipeline=new l(this));this.pipeline.addStep(c)};s.prototype.processFrame=function(c){c.gestures&&(this.accumulatedGestures=this.accumulatedGestures.concat(c.gestures));this.pipeline&&(c=this.pipeline.run(c),c||(c=h.Invalid));this.lastConnectionFrame=c;this.emit("deviceFrame",
c)};s.prototype.processFinishedFrame=function(c){this.lastFrame=c;c.valid&&(this.lastValidFrame=c);c.controller=this;c.historyIdx=this.history.push(c);if(c.gestures){c.gestures=this.accumulatedGestures;this.accumulatedGestures=[];for(var e=0;e!=c.gestures.length;e++)this.emit("gesture",c.gestures[e],c)}this.emit("frame",c)};s.prototype.setupConnectionEvents=function(){var c=this;this.connection.on("frame",function(e){c.processFrame(e)});this.on(this.frameEventName,function(e){c.processFinishedFrame(e)});
this.connection.on("disconnect",function(){c.emit("disconnect")});this.connection.on("ready",function(){c.emit("ready")});this.connection.on("connect",function(){c.emit("connect")});this.connection.on("focus",function(){c.emit("focus")});this.connection.on("blur",function(){c.emit("blur")});this.connection.on("protocol",function(e){c.emit("protocol",e)});this.connection.on("deviceConnect",function(e){c.emit(e.state?"deviceConnected":"deviceDisconnected")})};r.extend(s.prototype,e.prototype)})(d("__browserify_process"))},
{"./circular_buffer":2,"./connection":3,"./frame":5,"./gesture":6,"./node_connection":16,"./pipeline":10,__browserify_process:18,events:17,underscore:20}],5:[function(d,p,n){var m=d("./hand"),h=d("./pointable"),c=d("./gesture").createGesture;n=d("gl-matrix");var l=n.mat3,e=n.vec3,w=d("./interaction_box"),r=d("underscore");d=p.exports=function(e){this.valid=!0;this.id=e.id;this.timestamp=e.timestamp;this.hands=[];this.handsMap={};this.pointables=[];this.tools=[];this.fingers=[];e.interactionBox&&(this.interactionBox=
new w(e.interactionBox));this.gestures=[];this.pointablesMap={};this._translation=e.t;this._rotation=r.flatten(e.r);this._scaleFactor=e.s;this.data=e;this.type="frame";this.currentFrameRate=e.currentFrameRate;for(var d={},l=0,a=e.hands.length;l!=a;l++){var b=new m(e.hands[l]);b.frame=this;this.hands.push(b);this.handsMap[b.id]=b;d[b.id]=l}l=0;for(a=e.pointables.length;l!=a;l++){var g=new h(e.pointables[l]);g.frame=this;this.pointables.push(g);this.pointablesMap[g.id]=g;(g.tool?this.tools:this.fingers).push(g);
void 0!==g.handId&&d.hasOwnProperty(g.handId)&&(b=this.hands[d[g.handId]],b.pointables.push(g),(g.tool?b.tools:b.fingers).push(g))}if(e.gestures)for(d=0,b=e.gestures.length;d!=b;d++)this.gestures.push(c(e.gestures[d]))};d.prototype.tool=function(c){c=this.pointable(c);return c.tool?c:h.Invalid};d.prototype.pointable=function(c){return this.pointablesMap[c]||h.Invalid};d.prototype.finger=function(c){c=this.pointable(c);return c.tool?h.Invalid:c};d.prototype.hand=function(c){return this.handsMap[c]||
m.Invalid};d.prototype.rotationAngle=function(c,d){if(!this.valid||!c.valid)return 0;var h=this.rotationMatrix(c),h=Math.acos(0.5*(h[0]+h[4]+h[8]-1)),h=isNaN(h)?0:h;if(void 0!==d)var a=this.rotationAxis(c),h=h*e.dot(a,e.normalize(e.create(),d));return h};d.prototype.rotationAxis=function(c){return this.valid&&c.valid?e.normalize(e.create(),[this._rotation[7]-c._rotation[5],this._rotation[2]-c._rotation[6],this._rotation[3]-c._rotation[1]]):e.create()};d.prototype.rotationMatrix=function(c){if(!this.valid||
!c.valid)return l.create();var e=l.transpose(l.create(),this._rotation);return l.multiply(l.create(),c._rotation,e)};d.prototype.scaleFactor=function(c){return this.valid&&c.valid?Math.exp(this._scaleFactor-c._scaleFactor):1};d.prototype.translation=function(c){return this.valid&&c.valid?e.subtract(e.create(),this._translation,c._translation):e.create()};d.prototype.toString=function(){var c="Frame [ id:"+this.id+" | timestamp:"+this.timestamp+" | Hand count:("+this.hands.length+") | Pointable count:("+
this.pointables.length+")";this.gestures&&(c+=" | Gesture count:("+this.gestures.length+")");return c+" ]"};d.prototype.dump=function(){var c;c="Frame Info:<br/>"+this.toString();c+="<br/><br/>Hands:<br/>";for(var e=0,d=this.hands.length;e!=d;e++)c+="  "+this.hands[e].toString()+"<br/>";c+="<br/><br/>Pointables:<br/>";e=0;for(d=this.pointables.length;e!=d;e++)c+="  "+this.pointables[e].toString()+"<br/>";if(this.gestures)for(c+="<br/><br/>Gestures:<br/>",e=0,d=this.gestures.length;e!=d;e++)c+="  "+
this.gestures[e].toString()+"<br/>";c+="<br/><br/>Raw JSON:<br/>";return c+=JSON.stringify(this.data)};d.Invalid={valid:!1,hands:[],fingers:[],tools:[],gestures:[],pointables:[],pointable:function(){return h.Invalid},finger:function(){return h.Invalid},hand:function(){return m.Invalid},toString:function(){return"invalid frame"},dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return l.create()},rotationAxis:function(){return e.create()},scaleFactor:function(){return 1},
translation:function(){return e.create()}}},{"./gesture":6,"./hand":7,"./interaction_box":9,"./pointable":11,"gl-matrix":19,underscore:20}],6:[function(d,p,n){d("gl-matrix");p=d("events").EventEmitter;var m=d("underscore");n.createGesture=function(d){var h;switch(d.type){case "circle":h=new c(d);break;case "swipe":h=new l(d);break;case "screenTap":h=new e(d);break;case "keyTap":h=new w(d);break;default:throw"unkown gesture type";}h.id=d.id;h.handIds=d.handIds;h.pointableIds=d.pointableIds;h.duration=
d.duration;h.state=d.state;h.type=d.type;return h};n.gestureListener=function(c,e){var d={},l={};c.on("gesture",function(a,g){if(a.type==e){if(("start"==a.state||"stop"==a.state)&&void 0===l[a.id]){var c=new h(a,g);l[a.id]=c;m.each(d,function(a,b){c.on(b,a)})}l[a.id].update(a,g);"stop"==a.state&&delete l[a.id]}});var a={start:function(b){d.start=b;return a},stop:function(b){d.stop=b;return a},complete:function(b){d.stop=b;return a},update:function(b){d.update=b;return a}};return a};var h=n.Gesture=
function(c,e){this.gestures=[c];this.frames=[e]};h.prototype.update=function(c,e){this.gestures.push(c);this.frames.push(e);this.emit(c.state,this)};m.extend(h.prototype,p.prototype);var c=function(c){this.center=c.center;this.normal=c.normal;this.progress=c.progress;this.radius=c.radius};c.prototype.toString=function(){return"CircleGesture ["+JSON.stringify(this)+"]"};var l=function(c){this.startPosition=c.startPosition;this.position=c.position;this.direction=c.direction;this.speed=c.speed};l.prototype.toString=
function(){return"SwipeGesture ["+JSON.stringify(this)+"]"};var e=function(c){this.position=c.position;this.direction=c.direction;this.progress=c.progress};e.prototype.toString=function(){return"ScreenTapGesture ["+JSON.stringify(this)+"]"};var w=function(c){this.position=c.position;this.direction=c.direction;this.progress=c.progress};w.prototype.toString=function(){return"KeyTapGesture ["+JSON.stringify(this)+"]"}},{events:17,"gl-matrix":19,underscore:20}],7:[function(d,p,n){var m=d("./pointable");
n=d("gl-matrix");var h=n.mat3,c=n.vec3,l=d("underscore");d=p.exports=function(c){this.id=c.id;this.palmPosition=c.palmPosition;this.direction=c.direction;this.palmVelocity=c.palmVelocity;this.palmNormal=c.palmNormal;this.sphereCenter=c.sphereCenter;this.sphereRadius=c.sphereRadius;this.valid=!0;this.pointables=[];this.fingers=[];this.tools=[];this._translation=c.t;this._rotation=l.flatten(c.r);this._scaleFactor=c.s;this.timeVisible=c.timeVisible;this.stabilizedPalmPosition=c.stabilizedPalmPosition};
d.prototype.finger=function(c){return(c=this.frame.finger(c))&&c.handId==this.id?c:m.Invalid};d.prototype.rotationAngle=function(e,d){if(!this.valid||!e.valid||!e.hand(this.id).valid)return 0;var h=this.rotationMatrix(e),h=Math.acos(0.5*(h[0]+h[4]+h[8]-1)),h=isNaN(h)?0:h;if(void 0!==d)var l=this.rotationAxis(e),h=h*c.dot(l,c.normalize(c.create(),d));return h};d.prototype.rotationAxis=function(e){if(!this.valid||!e.valid)return c.create();e=e.hand(this.id);return e.valid?c.normalize(c.create(),[this._rotation[7]-
e._rotation[5],this._rotation[2]-e._rotation[6],this._rotation[3]-e._rotation[1]]):c.create()};d.prototype.rotationMatrix=function(c){if(!this.valid||!c.valid)return h.create();c=c.hand(this.id);if(!c.valid)return h.create();var d=h.transpose(h.create(),this._rotation);return h.multiply(h.create(),c._rotation,d)};d.prototype.scaleFactor=function(c){if(!this.valid||!c.valid)return 1;c=c.hand(this.id);return c.valid?Math.exp(this._scaleFactor-c._scaleFactor):1};d.prototype.translation=function(e){if(!this.valid||
!e.valid)return c.create();e=e.hand(this.id);return e.valid?[this._translation[0]-e._translation[0],this._translation[1]-e._translation[1],this._translation[2]-e._translation[2]]:c.create()};d.prototype.toString=function(){return"Hand [ id: "+this.id+" | palm velocity:"+this.palmVelocity+" | sphere center:"+this.sphereCenter+" ] "};d.Invalid={valid:!1,fingers:[],tools:[],pointables:[],pointable:function(){return m.Invalid},finger:function(){return m.Invalid},toString:function(){return"invalid frame"},
dump:function(){return this.toString()},rotationAngle:function(){return 0},rotationMatrix:function(){return h.create()},rotationAxis:function(){return c.create()},scaleFactor:function(){return 1},translation:function(){return c.create()}}},{"./pointable":11,"gl-matrix":19,underscore:20}],8:[function(d,p,n){(function(){p.exports={Controller:d("./controller"),Frame:d("./frame"),Gesture:d("./gesture"),Hand:d("./hand"),Pointable:d("./pointable"),InteractionBox:d("./interaction_box"),Connection:d("./connection"),
CircularBuffer:d("./circular_buffer"),UI:d("./ui"),glMatrix:d("gl-matrix"),mat3:d("gl-matrix").mat3,vec3:d("gl-matrix").vec3,loopController:void 0,loop:function(d,h){void 0===h&&(h=d,d={});this.loopController||(this.loopController=new this.Controller(d));this.loopController.loop(h)}}})()},{"./circular_buffer":2,"./connection":3,"./controller":4,"./frame":5,"./gesture":6,"./hand":7,"./interaction_box":9,"./pointable":11,"./ui":13,"gl-matrix":19}],9:[function(d,p,n){var m=d("gl-matrix").vec3;d=p.exports=
function(d){this.valid=!0;this.center=d.center;this.size=d.size;this.width=d.size[0];this.height=d.size[1];this.depth=d.size[2]};d.prototype.denormalizePoint=function(d){return m.fromValues((d[0]-0.5)*this.size[0]+this.center[0],(d[1]-0.5)*this.size[1]+this.center[1],(d[2]-0.5)*this.size[2]+this.center[2])};d.prototype.normalizePoint=function(d,c){var l=m.fromValues((d[0]-this.center[0])/this.size[0]+0.5,(d[1]-this.center[1])/this.size[1]+0.5,(d[2]-this.center[2])/this.size[2]+0.5);c&&(l[0]=Math.min(Math.max(l[0],
0),1),l[1]=Math.min(Math.max(l[1],0),1),l[2]=Math.min(Math.max(l[2],0),1));return l};d.prototype.toString=function(){return"InteractionBox [ width:"+this.width+" | height:"+this.height+" | depth:"+this.depth+" ]"};d.Invalid={valid:!1}},{"gl-matrix":19}],10:[function(d,p,n){d=p.exports=function(){this.steps=[]};d.prototype.addStep=function(d){this.steps.push(d)};d.prototype.run=function(d){for(var h=this.steps.length,c=0;c!=h&&d;c++)d=this.steps[c](d);return d}},{}],11:[function(d,p,n){d("gl-matrix");
d=p.exports=function(d){this.valid=!0;this.id=d.id;this.handId=d.handId;this.length=d.length;this.tool=d.tool;this.width=d.width;this.direction=d.direction;this.stabilizedTipPosition=d.stabilizedTipPosition;this.tipPosition=d.tipPosition;this.tipVelocity=d.tipVelocity;this.touchZone=d.touchZone;this.touchDistance=d.touchDistance;this.timeVisible=d.timeVisible};d.prototype.toString=function(){return!0==this.tool?"Pointable [ id:"+this.id+" "+this.length+"mmx | with:"+this.width+"mm | direction:"+this.direction+
" ]":"Pointable [ id:"+this.id+" "+this.length+"mmx | direction: "+this.direction+" ]"};d.Invalid={valid:!1}},{"gl-matrix":19}],12:[function(d,p,n){var m=d("./frame"),h=function(c){this.type=c.type;this.state=c.state};n.chooseProtocol=function(d){var e;switch(d.version){case 1:e=c(1,function(c){return new m(c)});break;case 2:e=c(2,function(c){return new m(c)});e.sendHeartbeat=function(c){c.send(e.encode({heartbeat:!0}))};break;case 3:e=c(3,function(c){return c.event?new h(c.event):new m(c)});e.sendHeartbeat=
function(c){c.send(e.encode({heartbeat:!0}))};break;default:throw"unrecognized version";}return e};var c=function(c,d){d.encode=function(c){return JSON.stringify(c)};d.version=c;d.versionLong="Version "+c;d.type="protocol";return d}},{"./frame":5}],13:[function(d,p,n){n.UI={Region:d("./ui/region"),Cursor:d("./ui/cursor")}},{"./ui/cursor":14,"./ui/region":15}],14:[function(d,p,n){p.exports=function(){return function(d){var h=d.pointables.sort(function(c,d){return c.z-d.z})[0];h&&h.valid&&(d.cursorPosition=
h.tipPosition);return d}}},{}],15:[function(d,p,n){n=d("events").EventEmitter;d=d("underscore");var m=p.exports=function(d,c){this.start=new Vector(d);this.end=new Vector(c);this.enteredFrame=null};m.prototype.hasPointables=function(d){for(var c=0;c!=d.pointables.length;c++){var l=d.pointables[c].tipPosition;if(l.x>=this.start.x&&l.x<=this.end.x&&l.y>=this.start.y&&l.y<=this.end.y&&l.z>=this.start.z&&l.z<=this.end.z)return!0}return!1};m.prototype.listener=function(d){var c=this;d&&d.nearThreshold&&
this.setupNearRegion(d.nearThreshold);return function(d){return c.updatePosition(d)}};m.prototype.clipper=function(){var d=this;return function(c){d.updatePosition(c);return d.enteredFrame?c:null}};m.prototype.setupNearRegion=function(d){d=this.nearRegion=new m([this.start.x-d,this.start.y-d,this.start.z-d],[this.end.x+d,this.end.y+d,this.end.z+d]);var c=this;d.on("enter",function(d){c.emit("near",d)});d.on("exit",function(d){c.emit("far",d)});c.on("exit",function(d){c.emit("near",d)})};m.prototype.updatePosition=
function(d){this.nearRegion&&this.nearRegion.updatePosition(d);this.hasPointables(d)&&null==this.enteredFrame?(this.enteredFrame=d,this.emit("enter",this.enteredFrame)):this.hasPointables(d)||null==this.enteredFrame||(this.enteredFrame=null,this.emit("exit",this.enteredFrame));return d};m.prototype.normalize=function(d){return new Vector([(d.x-this.start.x)/(this.end.x-this.start.x),(d.y-this.start.y)/(this.end.y-this.start.y),(d.z-this.start.z)/(this.end.z-this.start.z)])};m.prototype.mapToXY=function(d,
c,l){d=this.normalize(d);var e=d.x,m=d.y;1<e?e=1:-1>e&&(e=-1);1<m?m=1:-1>m&&(m=-1);return[(e+1)/2*c,(1-m)/2*l,d.z]};d.extend(m.prototype,n.prototype)},{events:17,underscore:20}],16:[function(d,p,n){},{}],17:[function(d,p,n){(function(d){d.EventEmitter||(d.EventEmitter=function(){});d=n.EventEmitter=d.EventEmitter;var h="function"===typeof Array.isArray?Array.isArray:function(c){return"[object Array]"===Object.prototype.toString.call(c)};d.prototype.setMaxListeners=function(c){this._events||(this._events=
{});this._events.maxListeners=c};d.prototype.emit=function(c){if("error"===c&&(!this._events||!this._events.error||h(this._events.error)&&!this._events.error.length)){if(arguments[1]instanceof Error)throw arguments[1];throw Error("Uncaught, unspecified 'error' event.");}if(!this._events)return!1;var d=this._events[c];if(!d)return!1;if("function"==typeof d){switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;
default:var e=Array.prototype.slice.call(arguments,1);d.apply(this,e)}return!0}if(h(d)){for(var e=Array.prototype.slice.call(arguments,1),d=d.slice(),m=0,n=d.length;m<n;m++)d[m].apply(this,e);return!0}return!1};d.prototype.addListener=function(c,d){if("function"!==typeof d)throw Error("addListener only takes instances of Function");this._events||(this._events={});this.emit("newListener",c,d);if(this._events[c])if(h(this._events[c])){if(!this._events[c].warned){var e;(e=void 0!==this._events.maxListeners?
this._events.maxListeners:10)&&(0<e&&this._events[c].length>e)&&(this._events[c].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[c].length),console.trace())}this._events[c].push(d)}else this._events[c]=[this._events[c],d];else this._events[c]=d;return this};d.prototype.on=d.prototype.addListener;d.prototype.once=function(c,d){var e=this;e.on(c,function r(){e.removeListener(c,r);
d.apply(this,arguments)});return this};d.prototype.removeListener=function(c,d){if("function"!==typeof d)throw Error("removeListener only takes instances of Function");if(!this._events||!this._events[c])return this;var e=this._events[c];if(h(e)){var m;a:if(e.indexOf)m=e.indexOf(d);else{for(m=0;m<e.length;m++)if(d===e[m])break a;m=-1}if(0>m)return this;e.splice(m,1);0==e.length&&delete this._events[c]}else this._events[c]===d&&delete this._events[c];return this};d.prototype.removeAllListeners=function(c){if(0===
arguments.length)return this._events={},this;c&&(this._events&&this._events[c])&&(this._events[c]=null);return this};d.prototype.listeners=function(c){this._events||(this._events={});this._events[c]||(this._events[c]=[]);h(this._events[c])||(this._events[c]=[this._events[c]]);return this._events[c]}})(d("__browserify_process"))},{__browserify_process:18}],18:[function(d,p,n){d=p.exports={};d.nextTick=function(){if("undefined"!==typeof window&&window.setImmediate)return function(d){return window.setImmediate(d)};
if("undefined"!==typeof window&&window.postMessage&&window.addEventListener){var d=[];window.addEventListener("message",function(h){h.source===window&&"process-tick"===h.data&&(h.stopPropagation(),0<d.length&&d.shift()())},!0);return function(h){d.push(h);window.postMessage("process-tick","*")}}return function(d){setTimeout(d,0)}}();d.title="browser";d.browser=!0;d.env={};d.argv=[];d.binding=function(d){throw Error("process.binding is not supported");};d.cwd=function(){return"/"};d.chdir=function(d){throw Error("process.chdir is not supported");
}},{}],19:[function(d,p,n){(function(){(function(){var d;"undefined"===typeof n?"function"==typeof define&&"object"==typeof define.amd&&define.amd?(d={},define(function(){return d})):d=window:d=n;(function(d){var c={};if(!l)var l=1E-6;c.create=function(){return new Float32Array(2)};c.clone=function(a){var b=new Float32Array(2);b[0]=a[0];b[1]=a[1];return b};c.fromValues=function(a,b){var g=new Float32Array(2);g[0]=a;g[1]=b;return g};c.copy=function(a,b){a[0]=b[0];a[1]=b[1];return a};c.set=function(a,
b,g){a[0]=b;a[1]=g;return a};c.add=function(a,b,g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];return a};c.sub=c.subtract=function(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];return a};c.mul=c.multiply=function(a,b,g){a[0]=b[0]*g[0];a[1]=b[1]*g[1];return a};c.div=c.divide=function(a,b,g){a[0]=b[0]/g[0];a[1]=b[1]/g[1];return a};c.min=function(a,b,g){a[0]=Math.min(b[0],g[0]);a[1]=Math.min(b[1],g[1]);return a};c.max=function(a,b,g){a[0]=Math.max(b[0],g[0]);a[1]=Math.max(b[1],g[1]);return a};c.scale=function(a,b,g){a[0]=
b[0]*g;a[1]=b[1]*g;return a};c.dist=c.distance=function(a,b){var g=b[0]-a[0],c=b[1]-a[1];return Math.sqrt(g*g+c*c)};c.sqrDist=c.squaredDistance=function(a,b){var g=b[0]-a[0],c=b[1]-a[1];return g*g+c*c};c.len=c.length=function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)};c.sqrLen=c.squaredLength=function(a){var b=a[0];a=a[1];return b*b+a*a};c.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];return a};c.normalize=function(a,b){var g=b[0],c=b[1],g=g*g+c*c;0<g&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g);
return a};c.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};c.cross=function(a,b,g){b=b[0]*g[1]-b[1]*g[0];a[0]=a[1]=0;a[2]=b;return a};c.lerp=function(a,b,g,c){var d=b[0];b=b[1];a[0]=d+c*(g[0]-d);a[1]=b+c*(g[1]-b);return a};c.transformMat2=function(a,b,g){var c=b[0];b=b[1];a[0]=c*g[0]+b*g[1];a[1]=c*g[2]+b*g[3];return a};c.forEach=function(){var a=new Float32Array(2);return function(b,g,c,d,e,k){g||(g=2);c||(c=0);for(d=d?Math.min(d*g+c,b.length):b.length;c<d;c+=g)a[0]=b[c],a[1]=b[c+1],e(a,a,k),b[c]=
a[0],b[c+1]=a[1];return b}}();c.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};"undefined"!==typeof d&&(d.vec2=c);c={};l||(l=1E-6);c.create=function(){return new Float32Array(3)};c.clone=function(a){var b=new Float32Array(3);b[0]=a[0];b[1]=a[1];b[2]=a[2];return b};c.fromValues=function(a,b,g){var c=new Float32Array(3);c[0]=a;c[1]=b;c[2]=g;return c};c.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];return a};c.set=function(a,b,g,c){a[0]=b;a[1]=g;a[2]=c;return a};c.add=function(a,b,g){a[0]=b[0]+
g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];return a};c.sub=c.subtract=function(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];a[2]=b[2]-g[2];return a};c.mul=c.multiply=function(a,b,g){a[0]=b[0]*g[0];a[1]=b[1]*g[1];a[2]=b[2]*g[2];return a};c.div=c.divide=function(a,b,g){a[0]=b[0]/g[0];a[1]=b[1]/g[1];a[2]=b[2]/g[2];return a};c.min=function(a,b,g){a[0]=Math.min(b[0],g[0]);a[1]=Math.min(b[1],g[1]);a[2]=Math.min(b[2],g[2]);return a};c.max=function(a,b,g){a[0]=Math.max(b[0],g[0]);a[1]=Math.max(b[1],g[1]);a[2]=Math.max(b[2],
g[2]);return a};c.scale=function(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;return a};c.dist=c.distance=function(a,b){var g=b[0]-a[0],c=b[1]-a[1],d=b[2]-a[2];return Math.sqrt(g*g+c*c+d*d)};c.sqrDist=c.squaredDistance=function(a,b){var g=b[0]-a[0],c=b[1]-a[1],d=b[2]-a[2];return g*g+c*c+d*d};c.len=c.length=function(a){var b=a[0],g=a[1];a=a[2];return Math.sqrt(b*b+g*g+a*a)};c.sqrLen=c.squaredLength=function(a){var b=a[0],g=a[1];a=a[2];return b*b+g*g+a*a};c.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];
a[2]=-b[2];return a};c.normalize=function(a,b){var g=b[0],c=b[1],d=b[2],g=g*g+c*c+d*d;0<g&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g);return a};c.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]};c.cross=function(a,b,g){var c=b[0],d=b[1];b=b[2];var e=g[0],k=g[1];g=g[2];a[0]=d*g-b*k;a[1]=b*e-c*g;a[2]=c*k-d*e;return a};c.lerp=function(a,b,g,c){var d=b[0],e=b[1];b=b[2];a[0]=d+c*(g[0]-d);a[1]=e+c*(g[1]-e);a[2]=b+c*(g[2]-b);return a};c.transformMat4=function(a,b,g){var c=b[0],d=b[1];
b=b[2];a[0]=g[0]*c+g[4]*d+g[8]*b+g[12];a[1]=g[1]*c+g[5]*d+g[9]*b+g[13];a[2]=g[2]*c+g[6]*d+g[10]*b+g[14];return a};c.transformQuat=function(a,b,g){var c=b[0],d=b[1],e=b[2];b=g[0];var k=g[1],v=g[2];g=g[3];var E=g*c+k*e-v*d,t=g*d+v*c-b*e,h=g*e+b*d-k*c,c=-b*c-k*d-v*e;a[0]=E*g+c*-b+t*-v-h*-k;a[1]=t*g+c*-k+h*-b-E*-v;a[2]=h*g+c*-v+E*-k-t*-b;return a};c.forEach=function(){var a=new Float32Array(3);return function(b,g,c,d,e,k){g||(g=3);c||(c=0);for(d=d?Math.min(d*g+c,b.length):b.length;c<d;c+=g)a[0]=b[c],
a[1]=b[c+1],a[2]=b[c+2],e(a,a,k),b[c]=a[0],b[c+1]=a[1],b[c+2]=a[2];return b}}();c.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};"undefined"!==typeof d&&(d.vec3=c);c={};l||(l=1E-6);c.create=function(){return new Float32Array(4)};c.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};c.fromValues=function(a,b,g,c){var d=new Float32Array(4);d[0]=a;d[1]=b;d[2]=g;d[3]=c;return d};c.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};
c.set=function(a,b,g,c,d){a[0]=b;a[1]=g;a[2]=c;a[3]=d;return a};c.add=function(a,b,g){a[0]=b[0]+g[0];a[1]=b[1]+g[1];a[2]=b[2]+g[2];a[3]=b[3]+g[3];return a};c.sub=c.subtract=function(a,b,g){a[0]=b[0]-g[0];a[1]=b[1]-g[1];a[2]=b[2]-g[2];a[3]=b[3]-g[3];return a};c.mul=c.multiply=function(a,b,g){a[0]=b[0]*g[0];a[1]=b[1]*g[1];a[2]=b[2]*g[2];a[3]=b[3]*g[3];return a};c.div=c.divide=function(a,b,g){a[0]=b[0]/g[0];a[1]=b[1]/g[1];a[2]=b[2]/g[2];a[3]=b[3]/g[3];return a};c.min=function(a,b,g){a[0]=Math.min(b[0],
g[0]);a[1]=Math.min(b[1],g[1]);a[2]=Math.min(b[2],g[2]);a[3]=Math.min(b[3],g[3]);return a};c.max=function(a,b,g){a[0]=Math.max(b[0],g[0]);a[1]=Math.max(b[1],g[1]);a[2]=Math.max(b[2],g[2]);a[3]=Math.max(b[3],g[3]);return a};c.scale=function(a,b,g){a[0]=b[0]*g;a[1]=b[1]*g;a[2]=b[2]*g;a[3]=b[3]*g;return a};c.dist=c.distance=function(a,b){var g=b[0]-a[0],c=b[1]-a[1],d=b[2]-a[2],e=b[3]-a[3];return Math.sqrt(g*g+c*c+d*d+e*e)};c.sqrDist=c.squaredDistance=function(a,b){var g=b[0]-a[0],c=b[1]-a[1],d=b[2]-
a[2],e=b[3]-a[3];return g*g+c*c+d*d+e*e};c.len=c.length=function(a){var b=a[0],g=a[1],c=a[2];a=a[3];return Math.sqrt(b*b+g*g+c*c+a*a)};c.sqrLen=c.squaredLength=function(a){var b=a[0],g=a[1],c=a[2];a=a[3];return b*b+g*g+c*c+a*a};c.negate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=-b[3];return a};c.normalize=function(a,b){var g=b[0],c=b[1],d=b[2],e=b[3],g=g*g+c*c+d*d+e*e;0<g&&(g=1/Math.sqrt(g),a[0]=b[0]*g,a[1]=b[1]*g,a[2]=b[2]*g,a[3]=b[3]*g);return a};c.dot=function(a,b){return a[0]*b[0]+a[1]*
b[1]+a[2]*b[2]+a[3]*b[3]};c.lerp=function(a,b,g,c){var d=b[0],e=b[1],k=b[2];b=b[3];a[0]=d+c*(g[0]-d);a[1]=e+c*(g[1]-e);a[2]=k+c*(g[2]-k);a[3]=b+c*(g[3]-b);return a};c.transformMat4=function(a,b,g){var c=b[0],d=b[1],e=b[2];b=b[3];a[0]=g[0]*c+g[4]*d+g[8]*e+g[12]*b;a[1]=g[1]*c+g[5]*d+g[9]*e+g[13]*b;a[2]=g[2]*c+g[6]*d+g[10]*e+g[14]*b;a[3]=g[3]*c+g[7]*d+g[11]*e+g[15]*b;return a};c.transformQuat=function(a,b,c){var d=b[0],e=b[1],q=b[2];b=c[0];var k=c[1],v=c[2];c=c[3];var E=c*d+k*q-v*e,t=c*e+v*d-b*q,h=c*
q+b*e-k*d,d=-b*d-k*e-v*q;a[0]=E*c+d*-b+t*-v-h*-k;a[1]=t*c+d*-k+h*-b-E*-v;a[2]=h*c+d*-v+E*-k-t*-b;return a};c.forEach=function(){var a=new Float32Array(4);return function(b,c,d,e,q,k){c||(c=4);d||(d=0);for(e=e?Math.min(e*c+d,b.length):b.length;d<e;d+=c)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],a[3]=b[d+3],q(a,a,k),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2],b[d+3]=a[3];return b}}();c.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof d&&(d.vec4=c);var e={},m=new Float32Array([1,
0,0,1]);l||(l=1E-6);e.create=function(){return new Float32Array(m)};e.clone=function(a){var b=new Float32Array(4);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];return b};e.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];return a};e.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=1;return a};e.transpose=function(a,b){if(a===b){var c=b[1];a[1]=b[2];a[2]=c}else a[0]=b[0],a[1]=b[2],a[2]=b[1],a[3]=b[3];return a};e.invert=function(a,b){var c=b[0],d=b[1],e=b[2],q=b[3],k=c*q-e*d;if(!k)return null;k=1/
k;a[0]=q*k;a[1]=-d*k;a[2]=-e*k;a[3]=c*k;return a};e.adjoint=function(a,b){var c=b[0];a[0]=b[3];a[1]=-b[1];a[2]=-b[2];a[3]=c;return a};e.determinant=function(a){return a[0]*a[3]-a[2]*a[1]};e.mul=e.multiply=function(a,b,c){var d=b[0],e=b[1],q=b[2];b=b[3];var k=c[0],v=c[1],E=c[2];c=c[3];a[0]=d*k+e*E;a[1]=d*v+e*c;a[2]=q*k+b*E;a[3]=q*v+b*c;return a};e.rotate=function(a,b,c){var d=b[0],e=b[1],q=b[2];b=b[3];var k=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*k;a[1]=d*-k+e*c;a[2]=q*c+b*k;a[3]=q*-k+b*c;return a};e.scale=
function(a,b,c){var d=b[1],e=b[2],q=b[3],k=c[0];c=c[1];a[0]=b[0]*k;a[1]=d*c;a[2]=e*k;a[3]=q*c;return a};e.str=function(a){return"mat2("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof d&&(d.mat2=e);var e={},n=new Float32Array([1,0,0,0,1,0,0,0,1]);l||(l=1E-6);e.create=function(){return new Float32Array(n)};e.clone=function(a){var b=new Float32Array(9);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];return b};e.copy=function(a,b){a[0]=b[0];a[1]=
b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];return a};e.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=1;a[5]=0;a[6]=0;a[7]=0;a[8]=1;return a};e.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[5];a[1]=b[3];a[2]=b[6];a[3]=c;a[5]=b[7];a[6]=d;a[7]=e}else a[0]=b[0],a[1]=b[3],a[2]=b[6],a[3]=b[1],a[4]=b[4],a[5]=b[7],a[6]=b[2],a[7]=b[5],a[8]=b[8];return a};e.invert=function(a,b){var c=b[0],d=b[1],e=b[2],q=b[3],k=b[4],v=b[5],E=b[6],t=b[7],h=b[8],f=h*k-v*t,l=-h*
q+v*E,m=t*q-k*E,C=c*f+d*l+e*m;if(!C)return null;C=1/C;a[0]=f*C;a[1]=(-h*d+e*t)*C;a[2]=(v*d-e*k)*C;a[3]=l*C;a[4]=(h*c-e*E)*C;a[5]=(-v*c+e*q)*C;a[6]=m*C;a[7]=(-t*c+d*E)*C;a[8]=(k*c-d*q)*C;return a};e.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],q=b[3],k=b[4],v=b[5],E=b[6],h=b[7],l=b[8];a[0]=k*l-v*h;a[1]=e*h-d*l;a[2]=d*v-e*k;a[3]=v*E-q*l;a[4]=c*l-e*E;a[5]=e*q-c*v;a[6]=q*h-k*E;a[7]=d*E-c*h;a[8]=c*k-d*q;return a};e.determinant=function(a){var b=a[3],c=a[4],d=a[5],e=a[6],q=a[7],k=a[8];return a[0]*(k*
c-d*q)+a[1]*(-k*b+d*e)+a[2]*(q*b-c*e)};e.mul=e.multiply=function(a,b,c){var d=b[0],e=b[1],q=b[2],k=b[3],v=b[4],h=b[5],t=b[6],l=b[7];b=b[8];var f=c[0],u=c[1],m=c[2],C=c[3],n=c[4],x=c[5],s=c[6],p=c[7];c=c[8];a[0]=f*d+u*k+m*t;a[1]=f*e+u*v+m*l;a[2]=f*q+u*h+m*b;a[3]=C*d+n*k+x*t;a[4]=C*e+n*v+x*l;a[5]=C*q+n*h+x*b;a[6]=s*d+p*k+c*t;a[7]=s*e+p*v+c*l;a[8]=s*q+p*h+c*b;return a};e.str=function(a){return"mat3("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+")"};"undefined"!==
typeof d&&(d.mat3=e);var s={},p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);l||(l=1E-6);s.create=function(){return new Float32Array(p)};s.clone=function(a){var b=new Float32Array(16);b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15];return b};s.copy=function(a,b){a[0]=b[0];a[1]=b[1];a[2]=b[2];a[3]=b[3];a[4]=b[4];a[5]=b[5];a[6]=b[6];a[7]=b[7];a[8]=b[8];a[9]=b[9];a[10]=b[10];
a[11]=b[11];a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};s.identity=function(a){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;return a};s.transpose=function(a,b){if(a===b){var c=b[1],d=b[2],e=b[3],q=b[6],k=b[7],v=b[11];a[1]=b[4];a[2]=b[8];a[3]=b[12];a[4]=c;a[6]=b[9];a[7]=b[13];a[8]=d;a[9]=q;a[11]=b[14];a[12]=e;a[13]=k;a[14]=v}else a[0]=b[0],a[1]=b[4],a[2]=b[8],a[3]=b[12],a[4]=b[1],a[5]=b[5],a[6]=b[9],a[7]=b[13],a[8]=
b[2],a[9]=b[6],a[10]=b[10],a[11]=b[14],a[12]=b[3],a[13]=b[7],a[14]=b[11],a[15]=b[15];return a};s.invert=function(a,b){var c=b[0],d=b[1],e=b[2],q=b[3],k=b[4],v=b[5],h=b[6],t=b[7],l=b[8],f=b[9],u=b[10],m=b[11],C=b[12],n=b[13],s=b[14],p=b[15],y=c*v-d*k,B=c*h-e*k,A=c*t-q*k,z=d*h-e*v,r=d*t-q*v,w=e*t-q*h,D=l*n-f*C,G=l*s-u*C,H=l*p-m*C,M=f*s-u*n,N=f*p-m*n,O=u*p-m*s,F=y*O-B*N+A*M+z*H-r*G+w*D;if(!F)return null;F=1/F;a[0]=(v*O-h*N+t*M)*F;a[1]=(e*N-d*O-q*M)*F;a[2]=(n*w-s*r+p*z)*F;a[3]=(u*r-f*w-m*z)*F;a[4]=(h*
H-k*O-t*G)*F;a[5]=(c*O-e*H+q*G)*F;a[6]=(s*A-C*w-p*B)*F;a[7]=(l*w-u*A+m*B)*F;a[8]=(k*N-v*H+t*D)*F;a[9]=(d*H-c*N-q*D)*F;a[10]=(C*r-n*A+p*y)*F;a[11]=(f*A-l*r-m*y)*F;a[12]=(v*G-k*M-h*D)*F;a[13]=(c*M-d*G+e*D)*F;a[14]=(n*B-C*z-s*y)*F;a[15]=(l*z-f*B+u*y)*F;return a};s.adjoint=function(a,b){var c=b[0],d=b[1],e=b[2],q=b[3],k=b[4],h=b[5],l=b[6],t=b[7],m=b[8],f=b[9],u=b[10],n=b[11],s=b[12],p=b[13],x=b[14],r=b[15];a[0]=h*(u*r-n*x)-f*(l*r-t*x)+p*(l*n-t*u);a[1]=-(d*(u*r-n*x)-f*(e*r-q*x)+p*(e*n-q*u));a[2]=d*(l*
r-t*x)-h*(e*r-q*x)+p*(e*t-q*l);a[3]=-(d*(l*n-t*u)-h*(e*n-q*u)+f*(e*t-q*l));a[4]=-(k*(u*r-n*x)-m*(l*r-t*x)+s*(l*n-t*u));a[5]=c*(u*r-n*x)-m*(e*r-q*x)+s*(e*n-q*u);a[6]=-(c*(l*r-t*x)-k*(e*r-q*x)+s*(e*t-q*l));a[7]=c*(l*n-t*u)-k*(e*n-q*u)+m*(e*t-q*l);a[8]=k*(f*r-n*p)-m*(h*r-t*p)+s*(h*n-t*f);a[9]=-(c*(f*r-n*p)-m*(d*r-q*p)+s*(d*n-q*f));a[10]=c*(h*r-t*p)-k*(d*r-q*p)+s*(d*t-q*h);a[11]=-(c*(h*n-t*f)-k*(d*n-q*f)+m*(d*t-q*h));a[12]=-(k*(f*x-u*p)-m*(h*x-l*p)+s*(h*u-l*f));a[13]=c*(f*x-u*p)-m*(d*x-e*p)+s*(d*u-e*
f);a[14]=-(c*(h*x-l*p)-k*(d*x-e*p)+s*(d*l-e*h));a[15]=c*(h*u-l*f)-k*(d*u-e*f)+m*(d*l-e*h);return a};s.determinant=function(a){var b=a[0],c=a[1],d=a[2],e=a[3],q=a[4],k=a[5],h=a[6],l=a[7],t=a[8],m=a[9],f=a[10],u=a[11],n=a[12],p=a[13],s=a[14];a=a[15];return(b*k-c*q)*(f*a-u*s)-(b*h-d*q)*(m*a-u*p)+(b*l-e*q)*(m*s-f*p)+(c*h-d*k)*(t*a-u*n)-(c*l-e*k)*(t*s-f*n)+(d*l-e*h)*(t*p-m*n)};s.mul=s.multiply=function(a,b,c){var d=b[0],e=b[1],q=b[2],k=b[3],h=b[4],l=b[5],t=b[6],m=b[7],f=b[8],n=b[9],p=b[10],s=b[11],r=b[12],
x=b[13],w=b[14];b=b[15];var y=c[0],B=c[1],A=c[2],z=c[3];a[0]=y*d+B*h+A*f+z*r;a[1]=y*e+B*l+A*n+z*x;a[2]=y*q+B*t+A*p+z*w;a[3]=y*k+B*m+A*s+z*b;y=c[4];B=c[5];A=c[6];z=c[7];a[4]=y*d+B*h+A*f+z*r;a[5]=y*e+B*l+A*n+z*x;a[6]=y*q+B*t+A*p+z*w;a[7]=y*k+B*m+A*s+z*b;y=c[8];B=c[9];A=c[10];z=c[11];a[8]=y*d+B*h+A*f+z*r;a[9]=y*e+B*l+A*n+z*x;a[10]=y*q+B*t+A*p+z*w;a[11]=y*k+B*m+A*s+z*b;y=c[12];B=c[13];A=c[14];z=c[15];a[12]=y*d+B*h+A*f+z*r;a[13]=y*e+B*l+A*n+z*x;a[14]=y*q+B*t+A*p+z*w;a[15]=y*k+B*m+A*s+z*b;return a};s.translate=
function(a,b,c){var d=c[0],e=c[1];c=c[2];var q,k,h,l,t,m,f,n,p,s,r,x;b===a?(a[12]=b[0]*d+b[4]*e+b[8]*c+b[12],a[13]=b[1]*d+b[5]*e+b[9]*c+b[13],a[14]=b[2]*d+b[6]*e+b[10]*c+b[14],a[15]=b[3]*d+b[7]*e+b[11]*c+b[15]):(q=b[0],k=b[1],h=b[2],l=b[3],t=b[4],m=b[5],f=b[6],n=b[7],p=b[8],s=b[9],r=b[10],x=b[11],a[0]=q,a[1]=k,a[2]=h,a[3]=l,a[4]=t,a[5]=m,a[6]=f,a[7]=n,a[8]=p,a[9]=s,a[10]=r,a[11]=x,a[12]=q*d+t*e+p*c+b[12],a[13]=k*d+m*e+s*c+b[13],a[14]=h*d+f*e+r*c+b[14],a[15]=l*d+n*e+x*c+b[15]);return a};s.scale=function(a,
b,c){var d=c[0],e=c[1];c=c[2];a[0]=b[0]*d;a[1]=b[1]*d;a[2]=b[2]*d;a[3]=b[3]*d;a[4]=b[4]*e;a[5]=b[5]*e;a[6]=b[6]*e;a[7]=b[7]*e;a[8]=b[8]*c;a[9]=b[9]*c;a[10]=b[10]*c;a[11]=b[11]*c;a[12]=b[12];a[13]=b[13];a[14]=b[14];a[15]=b[15];return a};s.rotate=function(a,b,c,d){var e=d[0],q=d[1];d=d[2];var k=Math.sqrt(e*e+q*q+d*d),h,m,t,n,f,p,s,r,w,x,I,y,B,A,z,J,K,D,G,H;if(Math.abs(k)<l)return null;k=1/k;e*=k;q*=k;d*=k;h=Math.sin(c);m=Math.cos(c);t=1-m;c=b[0];k=b[1];n=b[2];f=b[3];p=b[4];s=b[5];r=b[6];w=b[7];x=b[8];
I=b[9];y=b[10];B=b[11];A=e*e*t+m;z=q*e*t+d*h;J=d*e*t-q*h;K=e*q*t-d*h;D=q*q*t+m;G=d*q*t+e*h;H=e*d*t+q*h;e=q*d*t-e*h;q=d*d*t+m;a[0]=c*A+p*z+x*J;a[1]=k*A+s*z+I*J;a[2]=n*A+r*z+y*J;a[3]=f*A+w*z+B*J;a[4]=c*K+p*D+x*G;a[5]=k*K+s*D+I*G;a[6]=n*K+r*D+y*G;a[7]=f*K+w*D+B*G;a[8]=c*H+p*e+x*q;a[9]=k*H+s*e+I*q;a[10]=n*H+r*e+y*q;a[11]=f*H+w*e+B*q;b!==a&&(a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);return a};s.rotateX=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[4],h=b[5],k=b[6],l=b[7],m=b[8],t=b[9],
n=b[10],f=b[11];b!==a&&(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[4]=e*c+m*d;a[5]=h*c+t*d;a[6]=k*c+n*d;a[7]=l*c+f*d;a[8]=m*c-e*d;a[9]=t*c-h*d;a[10]=n*c-k*d;a[11]=f*c-l*d;return a};s.rotateY=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],h=b[1],k=b[2],l=b[3],m=b[8],t=b[9],n=b[10],f=b[11];b!==a&&(a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c-m*d;a[1]=h*c-t*d;a[2]=k*c-n*d;a[3]=l*c-f*d;a[8]=
e*d+m*c;a[9]=h*d+t*c;a[10]=k*d+n*c;a[11]=l*d+f*c;return a};s.rotateZ=function(a,b,c){var d=Math.sin(c);c=Math.cos(c);var e=b[0],h=b[1],k=b[2],l=b[3],m=b[4],n=b[5],p=b[6],f=b[7];b!==a&&(a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]);a[0]=e*c+m*d;a[1]=h*c+n*d;a[2]=k*c+p*d;a[3]=l*c+f*d;a[4]=m*c-e*d;a[5]=n*c-h*d;a[6]=p*c-k*d;a[7]=f*c-l*d;return a};s.fromRotationTranslation=function(a,b,c){var d=b[0],e=b[1],h=b[2],k=b[3],l=d+d,m=e+e,n=h+h;b=d*l;var p=d*m,d=
d*n,f=e*m,e=e*n,h=h*n,l=k*l,m=k*m,k=k*n;a[0]=1-(f+h);a[1]=p+k;a[2]=d-m;a[3]=0;a[4]=p-k;a[5]=1-(b+h);a[6]=e+l;a[7]=0;a[8]=d+m;a[9]=e-l;a[10]=1-(b+f);a[11]=0;a[12]=c[0];a[13]=c[1];a[14]=c[2];a[15]=1;return a};s.frustum=function(a,b,c,d,e,h,k){var l=1/(c-b),m=1/(e-d),n=1/(h-k);a[0]=2*h*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=2*h*m;a[6]=0;a[7]=0;a[8]=(c+b)*l;a[9]=(e+d)*m;a[10]=(k+h)*n;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*(k*h)*n;a[15]=0;return a};s.perspective=function(a,b,c,d,e){b=1/Math.tan(b/2);var h=1/(d-
e);a[0]=b/c;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=b;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=(e+d)*h;a[11]=-1;a[12]=0;a[13]=0;a[14]=2*e*d*h;a[15]=0;return a};s.ortho=function(a,b,c,d,e,h,k){var l=1/(b-c),m=1/(d-e),n=1/(h-k);a[0]=-2*l;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=-2*m;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=2*n;a[11]=0;a[12]=(b+c)*l;a[13]=(e+d)*m;a[14]=(k+h)*n;a[15]=1;return a};s.lookAt=function(a,b,c,d){var e,h,k,m,n,p,r,f,u=b[0],w=b[1];b=b[2];k=d[0];m=d[1];h=d[2];r=c[0];d=c[1];e=c[2];if(Math.abs(u-r)<l&&Math.abs(w-
d)<l&&Math.abs(b-e)<l)return s.identity(a);c=u-r;d=w-d;r=b-e;f=1/Math.sqrt(c*c+d*d+r*r);c*=f;d*=f;r*=f;e=m*r-h*d;h=h*c-k*r;k=k*d-m*c;(f=Math.sqrt(e*e+h*h+k*k))?(f=1/f,e*=f,h*=f,k*=f):k=h=e=0;m=d*k-r*h;n=r*e-c*k;p=c*h-d*e;(f=Math.sqrt(m*m+n*n+p*p))?(f=1/f,m*=f,n*=f,p*=f):p=n=m=0;a[0]=e;a[1]=m;a[2]=c;a[3]=0;a[4]=h;a[5]=n;a[6]=d;a[7]=0;a[8]=k;a[9]=p;a[10]=r;a[11]=0;a[12]=-(e*u+h*w+k*b);a[13]=-(m*u+n*w+p*b);a[14]=-(c*u+d*w+r*b);a[15]=1;return a};s.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+
", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};"undefined"!==typeof d&&(d.mat4=s);var e={},P=new Float32Array([0,0,0,1]);l||(l=1E-6);e.create=function(){return new Float32Array(P)};e.clone=c.clone;e.fromValues=c.fromValues;e.copy=c.copy;e.set=c.set;e.identity=function(a){a[0]=0;a[1]=0;a[2]=0;a[3]=1;return a};e.setAxisAngle=function(a,b,c){c*=0.5;var d=Math.sin(c);a[0]=d*b[0];a[1]=d*b[1];a[2]=d*b[2];a[3]=
Math.cos(c);return a};e.add=c.add;e.mul=e.multiply=function(a,b,c){var d=b[0],e=b[1],h=b[2];b=b[3];var k=c[0],l=c[1],m=c[2];c=c[3];a[0]=d*c+b*k+e*m-h*l;a[1]=e*c+b*l+h*k-d*m;a[2]=h*c+b*m+d*l-e*k;a[3]=b*c-d*k-e*l-h*m;return a};e.scale=c.scale;e.rotateX=function(a,b,c){c*=0.5;var d=b[0],e=b[1],h=b[2];b=b[3];var k=Math.sin(c);c=Math.cos(c);a[0]=d*c+b*k;a[1]=e*c+h*k;a[2]=h*c-e*k;a[3]=b*c-d*k;return a};e.rotateY=function(a,b,c){c*=0.5;var d=b[0],e=b[1],h=b[2];b=b[3];var k=Math.sin(c);c=Math.cos(c);a[0]=
d*c-h*k;a[1]=e*c+b*k;a[2]=h*c+d*k;a[3]=b*c-e*k;return a};e.rotateZ=function(a,b,c){c*=0.5;var d=b[0],e=b[1],h=b[2];b=b[3];var k=Math.sin(c);c=Math.cos(c);a[0]=d*c+e*k;a[1]=e*c-d*k;a[2]=h*c+b*k;a[3]=b*c-h*k;return a};e.calculateW=function(a,b){var c=b[0],d=b[1],e=b[2];a[0]=c;a[1]=d;a[2]=e;a[3]=-Math.sqrt(Math.abs(1-c*c-d*d-e*e));return a};e.dot=c.dot;e.lerp=c.lerp;e.slerp=function(a,b,c,d){var e=b[0],h=b[1],k=b[2],l=b[3],m=c[0],n=c[1];c=c[2];var p=b[3],f=e*m+h*n+k*c+l*p,r;if(1<=Math.abs(f))return a!==
b&&(a[0]=e,a[1]=h,a[2]=k,a[3]=l),a;b=Math.acos(f);r=Math.sqrt(1-f*f);if(0.001>Math.abs(r))return a[0]=0.5*e+0.5*m,a[1]=0.5*h+0.5*n,a[2]=0.5*k+0.5*c,a[3]=0.5*l+0.5*p,a;f=Math.sin((1-d)*b)/r;d=Math.sin(d*b)/r;a[0]=e*f+m*d;a[1]=h*f+n*d;a[2]=k*f+c*d;a[3]=l*f+p*d;return a};e.invert=function(a,b){var c=b[0],d=b[1],e=b[2],h=b[3],k=c*c+d*d+e*e+h*h,k=k?1/k:0;a[0]=-c*k;a[1]=-d*k;a[2]=-e*k;a[3]=h*k;return a};e.conjugate=function(a,b){a[0]=-b[0];a[1]=-b[1];a[2]=-b[2];a[3]=b[3];return a};e.len=e.length=c.length;
e.sqrLen=e.squaredLength=c.squaredLength;e.normalize=c.normalize;e.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};"undefined"!==typeof d&&(d.quat=e)})(d)})()})()},{}],20:[function(d,p,n){(function(){(function(){var d=this,h=d._,c={},l=Array.prototype,e=Object.prototype,w=l.push,r=l.slice,s=l.concat,L=e.toString,P=e.hasOwnProperty,a=l.forEach,b=l.map,g=l.reduce,R=l.reduceRight,S=l.filter,q=l.every,k=l.some,v=l.indexOf,E=l.lastIndexOf,e=Array.isArray,t=Object.keys,Q=Function.prototype.bind,
f=function(a){if(a instanceof f)return a;if(!(this instanceof f))return new f(a);this._wrapped=a};"undefined"!==typeof n?("undefined"!==typeof p&&p.exports&&(n=p.exports=f),n._=f):d._=f;f.VERSION="1.4.4";var u=f.each=f.forEach=function(b,d,e){if(null!=b)if(a&&b.forEach===a)b.forEach(d,e);else if(b.length===+b.length)for(var g=0,h=b.length;g<h&&d.call(e,b[g],g,b)!==c;g++);else for(g in b)if(f.has(b,g)&&d.call(e,b[g],g,b)===c)break};f.map=f.collect=function(a,c,d){var e=[];if(null==a)return e;if(b&&
a.map===b)return a.map(c,d);u(a,function(a,b,D){e[e.length]=c.call(d,a,b,D)});return e};f.reduce=f.foldl=f.inject=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(g&&a.reduce===g)return d&&(b=f.bind(b,d)),e?a.reduce(b,c):a.reduce(b);u(a,function(a,D,f){e?c=b.call(d,c,a,D,f):(c=a,e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};f.reduceRight=f.foldr=function(a,b,c,d){var e=2<arguments.length;null==a&&(a=[]);if(R&&a.reduceRight===R)return d&&(b=
f.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var g=a.length;if(g!==+g)var h=f.keys(a),g=h.length;u(a,function(f,k,l){k=h?h[--g]:--g;e?c=b.call(d,c,a[k],k,l):(c=a[k],e=!0)});if(!e)throw new TypeError("Reduce of empty array with no initial value");return c};f.find=f.detect=function(a,b,c){var d;T(a,function(a,e,D){if(b.call(c,a,e,D))return d=a,!0});return d};f.filter=f.select=function(a,b,c){var d=[];if(null==a)return d;if(S&&a.filter===S)return a.filter(b,c);u(a,function(a,e,D){b.call(c,a,e,
D)&&(d[d.length]=a)});return d};f.reject=function(a,b,c){return f.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)};f.every=f.all=function(a,b,d){b||(b=f.identity);var e=!0;if(null==a)return e;if(q&&a.every===q)return a.every(b,d);u(a,function(a,D,f){if(!(e=e&&b.call(d,a,D,f)))return c});return!!e};var T=f.some=f.any=function(a,b,d){b||(b=f.identity);var e=!1;if(null==a)return e;if(k&&a.some===k)return a.some(b,d);u(a,function(a,D,f){if(e||(e=b.call(d,a,D,f)))return c});return!!e};f.contains=f.include=
function(a,b){return null==a?!1:v&&a.indexOf===v?-1!=a.indexOf(b):T(a,function(a){return a===b})};f.invoke=function(a,b){var c=r.call(arguments,2),d=f.isFunction(b);return f.map(a,function(a){return(d?b:a[b]).apply(a,c)})};f.pluck=function(a,b){return f.map(a,function(a){return a[b]})};f.where=function(a,b,c){return f.isEmpty(b)?c?null:[]:f[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};f.findWhere=function(a,b){return f.where(a,b,!0)};f.max=function(a,b,c){if(!b&&
f.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&f.isEmpty(a))return-Infinity;var d={computed:-Infinity,value:-Infinity};u(a,function(a,e,D){e=b?b.call(c,a,e,D):a;e>=d.computed&&(d={value:a,computed:e})});return d.value};f.min=function(a,b,c){if(!b&&f.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&f.isEmpty(a))return Infinity;var d={computed:Infinity,value:Infinity};u(a,function(a,e,D){e=b?b.call(c,a,e,D):a;e<d.computed&&(d={value:a,computed:e})});
return d.value};f.shuffle=function(a){var b,c=0,d=[];u(a,function(a){b=f.random(c++);d[c-1]=d[b];d[b]=a});return d};var C=function(a){return f.isFunction(a)?a:function(b){return b[a]}};f.sortBy=function(a,b,c){var d=C(b);return f.pluck(f.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var U=function(a,b,c,d){var e={},g=
C(b||f.identity);u(a,function(b,f){var h=g.call(c,b,f,a);d(e,h,b)});return e};f.groupBy=function(a,b,c){return U(a,b,c,function(a,b,c){(f.has(a,b)?a[b]:a[b]=[]).push(c)})};f.countBy=function(a,b,c){return U(a,b,c,function(a,b){f.has(a,b)||(a[b]=0);a[b]++})};f.sortedIndex=function(a,b,c,d){c=null==c?f.identity:C(c);b=c.call(d,b);for(var e=0,g=a.length;e<g;){var h=e+g>>>1;c.call(d,a[h])<b?e=h+1:g=h}return e};f.toArray=function(a){return a?f.isArray(a)?r.call(a):a.length===+a.length?f.map(a,f.identity):
f.values(a):[]};f.size=function(a){return null==a?0:a.length===+a.length?a.length:f.keys(a).length};f.first=f.head=f.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:r.call(a,0,b)};f.initial=function(a,b,c){return r.call(a,0,a.length-(null==b||c?1:b))};f.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:r.call(a,Math.max(a.length-b,0))};f.rest=f.tail=f.drop=function(a,b,c){return r.call(a,null==b||c?1:b)};f.compact=function(a){return f.filter(a,f.identity)};var x=function(a,
b,c){u(a,function(a){f.isArray(a)?b?w.apply(c,a):x(a,b,c):c.push(a)});return c};f.flatten=function(a,b){return x(a,b,[])};f.without=function(a){return f.difference(a,r.call(arguments,1))};f.uniq=f.unique=function(a,b,c,d){f.isFunction(b)&&(d=c,c=b,b=!1);c=c?f.map(a,c,d):a;var e=[],g=[];u(c,function(c,d){(b?d&&g[g.length-1]===c:f.contains(g,c))||(g.push(c),e.push(a[d]))});return e};f.union=function(){return f.uniq(s.apply(l,arguments))};f.intersection=function(a){var b=r.call(arguments,1);return f.filter(f.uniq(a),
function(a){return f.every(b,function(b){return 0<=f.indexOf(b,a)})})};f.difference=function(a){var b=s.apply(l,r.call(arguments,1));return f.filter(a,function(a){return!f.contains(b,a)})};f.zip=function(){for(var a=r.call(arguments),b=f.max(f.pluck(a,"length")),c=Array(b),d=0;d<b;d++)c[d]=f.pluck(a,""+d);return c};f.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;d<e;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};f.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;
if(c)if("number"==typeof c)d=0>c?Math.max(0,e+c):c;else return d=f.sortedIndex(a,b),a[d]===b?d:-1;if(v&&a.indexOf===v)return a.indexOf(b,c);for(;d<e;d++)if(a[d]===b)return d;return-1};f.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(E&&a.lastIndexOf===E)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};f.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=Array(d);e<
d;)f[e++]=a,a+=c;return f};f.bind=function(a,b){if(a.bind===Q&&Q)return Q.apply(a,r.call(arguments,1));var c=r.call(arguments,2);return function(){return a.apply(b,c.concat(r.call(arguments)))}};f.partial=function(a){var b=r.call(arguments,1);return function(){return a.apply(this,b.concat(r.call(arguments)))}};f.bindAll=function(a){var b=r.call(arguments,1);0===b.length&&(b=f.functions(a));u(b,function(b){a[b]=f.bind(a[b],a)});return a};f.memoize=function(a,b){var c={};b||(b=f.identity);return function(){var d=
b.apply(this,arguments);return f.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};f.delay=function(a,b){var c=r.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};f.defer=function(a){return f.delay.apply(f,[a,1].concat(r.call(arguments,1)))};f.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date;e=null;f=a.apply(c,d)};return function(){var k=new Date,l=b-(k-g);c=this;d=arguments;0>=l?(clearTimeout(e),e=null,g=k,f=a.apply(c,d)):e||(e=setTimeout(h,l));return f}};f.debounce=
function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=c&&!d;clearTimeout(d);d=setTimeout(function(){d=null;c||(e=a.apply(f,g))},b);h&&(e=a.apply(f,g));return e}};f.once=function(a){var b=!1,c;return function(){if(b)return c;b=!0;c=a.apply(this,arguments);a=null;return c}};f.wrap=function(a,b){return function(){var c=[a];w.apply(c,arguments);return b.apply(this,c)}};f.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];
return b[0]}};f.after=function(a,b){return 0>=a?b():function(){if(1>--a)return b.apply(this,arguments)}};f.keys=t||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)f.has(a,c)&&(b[b.length]=c);return b};f.values=function(a){var b=[],c;for(c in a)f.has(a,c)&&b.push(a[c]);return b};f.pairs=function(a){var b=[],c;for(c in a)f.has(a,c)&&b.push([c,a[c]]);return b};f.invert=function(a){var b={},c;for(c in a)f.has(a,c)&&(b[a[c]]=c);return b};f.functions=f.methods=function(a){var b=
[],c;for(c in a)f.isFunction(a[c])&&b.push(c);return b.sort()};f.extend=function(a){u(r.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]});return a};f.pick=function(a){var b={},c=s.apply(l,r.call(arguments,1));u(c,function(c){c in a&&(b[c]=a[c])});return b};f.omit=function(a){var b={},c=s.apply(l,r.call(arguments,1)),d;for(d in a)f.contains(c,d)||(b[d]=a[d]);return b};f.defaults=function(a){u(r.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])});return a};f.clone=
function(a){return f.isObject(a)?f.isArray(a)?a.slice():f.extend({},a):a};f.tap=function(a,b){b(a);return a};var I=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof f&&(a=a._wrapped);b instanceof f&&(b=b._wrapped);var e=L.call(a);if(e!=L.call(b))return!1;switch(e){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==
b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var g=c.length;g--;)if(c[g]==a)return d[g]==b;c.push(a);d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=I(a[g],b[g],c,d)););}else{var e=a.constructor,k=b.constructor;if(e!==k&&!(f.isFunction(e)&&e instanceof e&&f.isFunction(k)&&k instanceof k))return!1;for(var l in a)if(f.has(a,l)&&(g++,!(h=f.has(b,l)&&I(a[l],b[l],c,d))))break;
if(h){for(l in b)if(f.has(b,l)&&!g--)break;h=!g}}c.pop();d.pop();return h};f.isEqual=function(a,b){return I(a,b,[],[])};f.isEmpty=function(a){if(null==a)return!0;if(f.isArray(a)||f.isString(a))return 0===a.length;for(var b in a)if(f.has(a,b))return!1;return!0};f.isElement=function(a){return!(!a||1!==a.nodeType)};f.isArray=e||function(a){return"[object Array]"==L.call(a)};f.isObject=function(a){return a===Object(a)};u("Arguments Function String Number Date RegExp".split(" "),function(a){f["is"+a]=
function(b){return L.call(b)=="[object "+a+"]"}});f.isArguments(arguments)||(f.isArguments=function(a){return!(!a||!f.has(a,"callee"))});"function"!==typeof/./&&(f.isFunction=function(a){return"function"===typeof a});f.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};f.isNaN=function(a){return f.isNumber(a)&&a!=+a};f.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==L.call(a)};f.isNull=function(a){return null===a};f.isUndefined=function(a){return void 0===a};f.has=function(a,
b){return P.call(a,b)};f.noConflict=function(){d._=h;return this};f.identity=function(a){return a};f.times=function(a,b,c){for(var d=Array(a),e=0;e<a;e++)d[e]=b.call(c,e);return d};f.random=function(a,b){null==b&&(b=a,a=0);return a+Math.floor(Math.random()*(b-a+1))};var y={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};y.unescape=f.invert(y.escape);var B={escape:RegExp("["+f.keys(y.escape).join("")+"]","g"),unescape:RegExp("("+f.keys(y.unescape).join("|")+")","g")};
f.each(["escape","unescape"],function(a){f[a]=function(b){return null==b?"":(""+b).replace(B[a],function(b){return y[a][b]})}});f.result=function(a,b){if(null==a)return null;var c=a[b];return f.isFunction(c)?c.call(a):c};f.mixin=function(a){u(f.functions(a),function(b){var c=f[b]=a[b];f.prototype[b]=function(){var a=[this._wrapped];w.apply(a,arguments);a=c.apply(f,a);return this._chain?f(a).chain():a}})};var A=0;f.uniqueId=function(a){var b=++A+"";return a?a+b:b};f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,
interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var z=/(.)^/,J={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\t|\u2028|\u2029/g;f.template=function(a,b,c){var d;c=f.defaults({},c,f.templateSettings);var e=RegExp([(c.escape||z).source,(c.interpolate||z).source,(c.evaluate||z).source].join("|")+"|$","g"),g=0,h="__p+='";a.replace(e,function(b,c,d,e,f){h+=a.slice(g,f).replace(K,function(a){return"\\"+J[a]});c&&(h+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'");
d&&(h+="'+\n((__t=("+d+"))==null?'':__t)+\n'");e&&(h+="';\n"+e+"\n__p+='");g=f+b.length;return b});h+="';\n";c.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{d=new Function(c.variable||"obj","_",h)}catch(k){throw k.source=h,k;}if(b)return d(b,f);b=function(a){return d.call(this,a,f)};b.source="function("+(c.variable||"obj")+"){\n"+h+"}";return b};f.chain=function(a){return f(a).chain()};f.mixin(f);
u("pop push reverse shift sort splice unshift".split(" "),function(a){var b=l[a];f.prototype[a]=function(){var c=this._wrapped;b.apply(c,arguments);"shift"!=a&&"splice"!=a||0!==c.length||delete c[0];return this._chain?f(c).chain():c}});u(["concat","join","slice"],function(a){var b=l[a];f.prototype[a]=function(){var a=b.apply(this._wrapped,arguments);return this._chain?f(a).chain():a}});f.extend(f.prototype,{chain:function(){this._chain=!0;return this},value:function(){return this._wrapped}})}).call(this)})()},
{}],21:[function(d,p,n){window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(d){window.setTimeout(d,1E3/60)}}();Leap=d("../lib/index")},{"../lib/index":8}]},{},[21]);